---
import HardwareTopology from "../../../../markdown/hardware-topology.md";
import Intro from "../../../../markdown/intro.md";
import PriorArt from "../../../../markdown/prior-art.md";
import SpecButtons from "../components/SpecButtons.astro";
import TopHeader from "../components/TopHeader.astro";
import TopicTree from "../components/TopicTree.astro";
import { createTopicTree } from "../file-utils";
import Layout from "../layouts/Layout.astro";

const data = await Astro.glob("../../../../specifications/**/*.md");
const tree = createTopicTree(
  data.map((d) => d.file).filter((i) => !i.includes("README.md"))
);
---

<Layout title="HWB Standard">
  <main class="max-w-prose m-auto">
    <TopHeader />
    <div class="prose">
      <Intro />
      <SpecButtons />

      <section>
        <h2>Topic specifications</h2>
        <TopicTree topicTree={tree} />
      </section>

      <section>
        <HardwareTopology />
      </section>

      <section>
        <PriorArt />
      </section>
    </div>
  </main>
</Layout>
